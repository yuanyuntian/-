## 寄存器
一个典型的CPU由运算器，控制器，寄存器等期间组成，这些器件靠内部总线相连，上一章所说的都是外面总线，内部总线实现CPU各个器件之间的联系，外部总线实现CPU和主板上的其他器件联系。

- 运算器进行信息处理
- 寄存器进行信息存储
- 控制器控制各种器件进行工作
- 内部总线连接各种器件，在它们之间进行数据传输

对于一个汇编程序员来说，CPU的主要部件是寄存器，寄存器是CPU中的程序员可以用指令读取部件。不同CPU，寄存器个数结构不同，8086CPU有14个寄存器，每个寄存器有个昵称：AX,BX,CX,DX,SI,DI,SP,BP,IP,CS,SS,DS,ES,PSW。

### 通用寄存器

8086CPU寄存器是16位的，可以放两个字节。AX,BX,CX,DX这四个寄存器通常用来存放一般性数据，被称为通用寄存器.8086CPU上一代CPU中寄存器都是8位，为了保证兼容，使原来基于上代CPU的编写程序稍加修改就可以运行在8086上。8086CPU的AX,BX,CX,DX这四个寄存器都可以分为两个独立的使用的8位寄存器来用，比如 AX可以分为AH,AL

### 字在寄存器中的存储

8086CPU可以一次性处理以下两种尺寸的数据

- 字节：即byte，一个字节由8个bit组成，可以存储8位寄存器中
- 字：即word,一个字由两个字节组成，这两个字节分别称为这个字的高位字节和低位字节

### 物理地址
CPU访问内存单元时，要给出内存单元的地址，所有的内存单元构成存储空间的是一个一维的线性空间，每一个内存单元在这个空间中都有唯一的地址，就是物理地址。

### 16位结构的CPU
概括地讲，16位结构描述一个CPU具备以下特性

- 运算器一次最多处理16位的数据
- 寄存器最大宽度是16位
- 寄存器和运算器之间的通路是16位

内存单元的地址在送上地址总线之前，必须在CPU中传输，处理，暂时存放，对于16位CPU，能一次性处理，传输，暂时存储16位地址

### 8086CPU物理地址的方法

8086CPU有20位地址总线，可以传输20位地址，达到1MB的寻址能力。8086CPU又是16位结构，在内部一次性处理，传输，暂时存储的地址是16位。从8086CPU的内部结构来看，只能送出16位地址，寻址能力只有64KB。
8086CPU采用一种在内部用两个16位地址合成的方法来形成一个20位的物理地址。
当8086CPU读写内存时：

- CPU中的相关部件提供两个16位地址，一个称为短地址，一个称为偏移地址
- 段地址和偏移地址通过内部总线送入一个称为地址加法器的部件；
- 地址加法器将两个16位地址合成一个20位物理地址
- 地址加法器通过内部总线将20位物理地址送入输入输出控制电路
- 20位物理地址被地址总线传送到存储器

地址加法器采用物理地址 = 段地址*16+偏移地址 的方法用段地址和偏移地址合成物理地址

### 段寄存器

8086CPU访问内存时要由相关部件提供内存单元的段地址和偏移地址，送入地址加法器合成物理地址。这里的部件在CPU8086中实际上是指
CS,DS,SS,ES

### CS和IP
CS和IP是8086CPU中两个最关键的寄存器，他们指示了CPU当前读取指令的地址.CS为代码段寄存器，IP为指令指针寄存器。
在8086PC机中，任意时刻，设CS中内容为M，IP中的内容为N，8086CPU将从内存 M*16 + N单元开始，读取一条指令并执行

8086CPU的工作过程：

- 从CS:IP指向的内存单元读取指令，读取的指令进入指令缓冲区
- IP=IP+所读取指令的长度，从而指向下一条指令
- 执行指令。转到步骤（1）,重复这个过程

在内存中，指令和数据没有任何区别，都是二进制信息，CPU在工作的时候把有的信息看作指令，有的信息看作数据。这里如何区分呢？cpu将CS,IP中的内容当做指令的段地址和偏移地址，用它们合成指令的物理地址，到内存中读取指令码，执行。

### 修改CS,IP指令

mov指令不能用于设置CS,IP的值，8086CPU没提供这样的功能。8086CPU提供了另外一个指令用来改变它们，这类指令统称为转移指令：jmp 指令